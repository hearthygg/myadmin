<script lang="ts">
  export default { name: 'Dashboard' };
</script>

<script setup lang="ts">
// ç»„ä»¶å¼•ç”¨
import SvgIcon from '@/components/SvgIcon/index.vue';
import BarChart from './components/BarChart.vue';
import PieChart from './components/PieChart.vue';
import RadarChart from './components/RadarChart.vue';
import BarChart1 from './components/BarChart1.vue';
import LineChart from './components/LineChart.vue';
import NoticeDetail from '@/layout/components/notice/noticeDetail.vue';
import { computed, onMounted } from 'vue';

import { useUserStore } from '@/store/modules/user';
import CountUp from 'vue-countup-v3';
const userStore = useUserStore();

const date: Date = new Date();

// eslint-disable-next-line vue/return-in-computed-property
const greetings = computed(() => {
  if (date.getHours() >= 6 && date.getHours() < 8) {
    return 'æ™¨èµ·æŠ«è¡£å‡ºè‰å ‚ï¼Œè½©çª—å·²è‡ªå–œå¾®å‡‰ğŸŒ…ï¼';
  } else if (date.getHours() >= 8 && date.getHours() < 12) {
    return 'ä¸Šåˆå¥½ğŸŒï¼';
  } else if (date.getHours() >= 12 && date.getHours() < 18) {
    return 'ä¸‹åˆå¥½â˜•ï¼';
  } else if (date.getHours() >= 18 && date.getHours() < 24) {
    return 'æ™šä¸Šå¥½ğŸŒƒï¼';
  } else if (date.getHours() >= 0 && date.getHours() < 6) {
    return 'å·å·å‘é“¶æ²³è¦äº†ä¸€æŠŠç¢æ˜Ÿï¼Œåªç­‰ä½ é—­ä¸Šçœ¼ç›æ’’å…¥ä½ çš„æ¢¦ä¸­ï¼Œæ™šå®‰ğŸŒ›ï¼';
  }
});

</script>

<template>
  <div class="dashboard-container">
    <!-- ç”¨æˆ·ä¿¡æ¯ -->
    <!-- <el-row class="mb-8">
      <el-card class="w-full">
        <div class="flex flex-wrap justify-between">
          <div>
            <img class="user-avatar" :src="userStore.avatar + '?imageView2/1/w/80/h/80'" />
            <span class="text-[14px]">
              {{ userStore.nickname }}
            </span>
          </div>

          <div class="leading-[40px]">
            {{ greetings }}
          </div>
        </div>
      </el-card>
    </el-row> -->

    <!-- æ•°æ®å¡ç‰‡ -->
    <el-row :gutter="10" class="mb-1">
      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#40c9c6] hover:!text-white hover:bg-[#40c9c6] p-2 rounded">
            <i class="iconfont icon-kebiao text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">ç²¾å“è¯¾ç¨‹æ€»æ•°</div>
            <div class="text-xl text-right">
              <count-up :end-val="45"></count-up>
            </div>
          </div>
        </div>
      </el-col>

      <!--æ¶ˆæ¯æ•°-->
      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#36a3f7] hover:!text-white hover:bg-[#36a3f7] p-2 rounded">
            <!-- <svg-icon icon-class="message" size="3em" /> -->
            <i class="iconfont icon-shiyani text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">åœ¨çº¿å®éªŒæ€»æ•°</div>
            <div class="text-xl text-right">
              <count-up :end-val="234"></count-up>
            </div>
          </div>
        </div>
      </el-col>

      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#f4516c] hover:!text-white hover:bg-[#f4516c] p-2 rounded">
            <i class="iconfont icon-banji text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">åœ¨çº¿è®¾å¤‡æ•°é‡</div>
            <div class="text-xl text-right">
              <count-up :end-val="35"></count-up>
            </div>
          </div>
        </div>
      </el-col>

      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#f4516c] hover:!text-white hover:bg-[#f4516c] p-2 rounded">
            <i class="iconfont icon-banji text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">å®éªŒæŠ¥å‘Šä»½æ•°</div>
            <div class="text-xl text-right">
              <count-up :end-val="35"></count-up>
            </div>
          </div>
        </div>
      </el-col>
      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#34bfa3] hover:!text-white hover:bg-[#34bfa3] p-2 rounded">
            <!-- <svg-icon icon-class="shopping" size="3em" /> -->
            <i class="iconfont icon-denglu-yonghuming text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">è€ƒè¯•è¯•é¢˜æ€»æ•°</div>
            <div class="text-xl text-right">
              <count-up :end-val="235"></count-up>
            </div>
          </div>
        </div>
      </el-col>
      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#34bfa3] hover:!text-white hover:bg-[#34bfa3] p-2 rounded">
            <!-- <svg-icon icon-class="shopping" size="3em" /> -->
            <i class="iconfont icon-denglu-yonghuming text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">è€ƒè¯•è¯•å·ä»½æ•°</div>
            <div class="text-xl text-right">
              <count-up :end-val="2000"></count-up>
            </div>
          </div>
        </div>
      </el-col>

      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#34bfa3] hover:!text-white hover:bg-[#34bfa3] p-2 rounded">
            <!-- <svg-icon icon-class="shopping" size="3em" /> -->
            <i class="iconfont icon-denglu-yonghuming text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">æäº¤è¯•å·ä»½æ•°</div>
            <div class="text-xl text-right">
              <count-up :end-val="2000"></count-up>
            </div>
          </div>
        </div>
      </el-col>

      <el-col :xs="12" :sm="6" :lg="3" class="mb-1 pl-0 pr-0">
        <div class="data-box">
          <div class="text-[#34bfa3] hover:!text-white hover:bg-[#34bfa3] p-2 rounded">
            <!-- <svg-icon icon-class="shopping" size="3em" /> -->
            <i class="iconfont icon-denglu-yonghuming text-5xl"></i>
          </div>
          <div class="flex flex-col space-y-3">
            <div class="text-[var(--el-text-color-secondary)]">å­¦ç”Ÿä½¿ç”¨äººæ•°</div>
            <div class="text-xl text-right">
              <count-up :end-val="2000"></count-up>
            </div>
          </div>
        </div>
      </el-col>
    </el-row>

    <el-row :gutter="10" class="mb-1">
      <!-- æŠ˜çº¿å›¾ -->
      <el-col :xs="24" :sm="16" :lg="16" class="mb-1">
        <LineChart id="lineChart" height="280px" width="100%" class="bg-[var(--el-bg-color-overlay)]"></LineChart>
      </el-col>
      <!-- æ¶ˆæ¯é€šçŸ¥ -->
      <el-col :xs="24" :sm="8" :lg="8" class="mb-1">
        <NoticeDetail/>
      </el-col>
    </el-row>
    <!-- Echarts å›¾è¡¨ -->
    <el-row :gutter="10">
      <el-col :sm="24" :lg="8" class="mb-1">
        <BarChart id="barChart" height="400px" width="100%" class="bg-[var(--el-bg-color-overlay)]" />
      </el-col>

      <el-col :xs="24" :sm="12" :lg="8" class="mb-1">
        <PieChart id="pieChart" height="400px" width="100%" class="bg-[var(--el-bg-color-overlay)]" />
      </el-col>

      <el-col :xs="24" :sm="12" :lg="8" class="mb-1">
        <BarChart1 id="radarChart" height="400px" width="100%" class="bg-[var(--el-bg-color-overlay)]" />
      </el-col>

      <el-col :xs="24" :sm="12" :lg="8" class="mb-1">
        <RadarChart id="radarChart1" height="400px" width="100%" class="bg-[var(--el-bg-color-overlay)]" />
      </el-col>
    </el-row>
  </div>
</template>

<style lang="scss" scoped>
.dashboard-container {
  padding: 10px;
  position: relative;

  .user-avatar {
    height: 40px;
    widows: 40px;
    border-radius: 5px;
  }

  .data-box {
    font-weight: bold;
    padding: 20px;
    cursor: pointer;
    color: var(--el-text-color-regular);
    background: var(--el-bg-color-overlay);
    box-shadow: var(--el-box-shadow-dark);
    border-color: var(--el-border-color);
    display: flex;
    justify-content: space-between;
    border-radius: 10px;
  }

  .svg-icon {
    fill: currentColor !important;
  }
}
:deep(.el-card) {
  border-radius: 10px;
  border: 1px solid #F9F9F9;
  .el-card__header {
    background-color: #F9F9F9;
    font-size: 18px;
    font-weight: bold;
    color: #909399;
  }
}
</style>
